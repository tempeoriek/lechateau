@model ProductDetailsModel
@using Nop.Web.Models.Catalog;
<link rel="stylesheet" type="text/css" href="~/Scripts/Plugins/slick/slick.css">
<link rel="stylesheet" type="text/css" href="~/Scripts/Plugins/slick/slick-theme.css">

@if (Model.PictureModels.Count > 0)
{
  <div class="row">
    @*DESKTOP View*@
    <div class="col-12 d-none d-md-block">
      <div class="prod-images d-flex flex-column align-items-center">
        @for (int i = 0; i < Model.PictureModels.Count; i++)
        {
          var pic = Model.PictureModels[i];
          <div>
            @if (Model.LinkToBrand!=null) {
              <a href="@Model.LinkToBrand" rel="noopener noreferrer">
                <img src="@pic.FullSizeImageUrl" class="img-fluid pb-1" id="prodimg-@i" />
              </a>
            }
            else {
              <img src="@pic.FullSizeImageUrl" class="img-fluid pb-1" id="prodimg-@i" />
            }
          </div>
        }
        @if (Model.LinkVideo != null) {
          <div style="width: 100%; height: 400px;">
            <iframe frameborder="0" style="overflow:hidden;height:100%;width:100%" height="100%" width="100%"
              src="@Model.LinkVideo">
            </iframe>
          </div>
        }
      </div>


    </div>
    @* <div id="carouselExampleIndicators" class="carousel slide d-none d-md-block col-12" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        @{ int index = 1;

          foreach (var p in Model.PictureModels)
          {
            if (index == 1)
            {

              <div class="carousel-item active">
                <img class="img-fluid w-100" src="@p.FullSizeImageUrl" alt="@p.AlternateText" title="@p.Title" />
              </div>
            }
            else
            {
              <div class="carousel-item">
                <img class="img-fluid w-100" src="@p.FullSizeImageUrl" alt="@p.AlternateText" title="@p.Title" />
              </div>
            }

            index++;
          }
        }
      </div>
    </div> *@

    @*Mobile View*@
    @* <div id="carouselExampleIndicators" class="carousel slide d-block d-md-none col-12 mb-4" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        @{ int counter = 1;

          foreach (var p in Model.PictureModels)
          {
            if (counter == 1)
            {

              <div class="carousel-item active">
                <img class="img-fluid w-100" src="@p.FullSizeImageUrl" alt="@p.AlternateText" title="@p.Title" />
              </div>
            }
            else
            {
              <div class="carousel-item">
                <img class="img-fluid w-100" src="@p.FullSizeImageUrl" alt="@p.AlternateText" title="@p.Title" />
              </div>
            }

            counter++;
          }
        }
      </div>

    </div> *@
    <div class="d-block d-md-none col-12" style="margin-bottom: -6%;">
      <div style="overflow-x: scroll; ">
        <div style="width: 1500px; display: flex; height: 340px;">
          @for (int i = 0; i < Model.PictureModels.Count; i++)
          {
            var p = Model.PictureModels[i];
            if (Model.LinkToBrand!=null) {
              <a href="@Model.LinkToBrand" rel="noopener noreferrer">
                <img style="width: 330px; padding: 5px; height: 330px;" src="@p.FullSizeImageUrl" alt="@p.AlternateText" title="@p.Title" />
              </a>
            }
            else {
              <img style="width: 330px; padding: 5px; height: 330px;" src="@p.FullSizeImageUrl" alt="@p.AlternateText" title="@p.Title" />
            }
            if (i+1 == Model.PictureModels.Count && Model.LinkVideo != null) 
            { 
              <div style="width: 330px; height: 330px; padding: 5px;">
                <iframe frameborder="0" style="overflow:hidden;height:100%;width:100%" 
                  src="@Model.LinkVideo">
                </iframe>
              </div>
            }
          }
        </div>
      </div>

    </div>

  </div>
}

<script src="~/Scripts/Plugins/slick/slick.js" type="text/javascript" charset="utf-8"></script>
<script>
  $(document).ready(function () {
    $('.carouseldesktop').slick({
      slidesToShow: 1.5,
      slideToScroll: 2,
      infinite: true,
      dots: false,
      centerMode: false,
      arrows: false,
      autoplay: true,
      autoplaySpeed: 2000,
    });
  });
</script>
